<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Spring框架介绍及使用 | 持续学习者————Just Do It！</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Spring框架—控制反转（IOC）1 Spring框架概述1.1 什么是Spring1.2 Spring的优点1.3 Spring的体系结构2 入门案例:（IoC）2.1导入jar包2.2目标类2.3 配置文件2.4测试3 入门案例：DI3.1 目标类3.2 dao3.3 service3.4 配置文件3.5 测试4 依赖注入装配Bean 基于xml4.1属性依赖注入4.1.1 构造方法4.1.">
<meta property="og:type" content="article">
<meta property="og:title" content="Spring框架介绍及使用">
<meta property="og:url" content="http://droidman.net/2017/04/22/2017-04-22/index.html">
<meta property="og:site_name" content="持续学习者————Just Do It！">
<meta property="og:description" content="Spring框架—控制反转（IOC）1 Spring框架概述1.1 什么是Spring1.2 Spring的优点1.3 Spring的体系结构2 入门案例:（IoC）2.1导入jar包2.2目标类2.3 配置文件2.4测试3 入门案例：DI3.1 目标类3.2 dao3.3 service3.4 配置文件3.5 测试4 依赖注入装配Bean 基于xml4.1属性依赖注入4.1.1 构造方法4.1.">
<meta property="og:locale" content="en,ZH">
<meta property="og:image" content="http://droidman.net/img/spring-frame.png">
<meta property="og:image" content="http://droidman.net/img/spring-jar.png">
<meta property="og:image" content="http://droidman.net/img/aop-2017-04-23-3.png">
<meta property="article:published_time" content="2017-04-22T00:35:02.000Z">
<meta property="article:modified_time" content="2017-04-23T02:15:23.792Z">
<meta property="article:author" content="OuyangWenyuan">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="Spring">
<meta property="article:tag" content="IOC">
<meta property="article:tag" content="AOP">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://droidman.net/img/spring-frame.png">
  
    <link rel="alternate" href="/atom.xml" title="持续学习者————Just Do It！" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">持续学习者————Just Do It！</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">学无止境————不怕你不会，就怕你不学！</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://droidman.net"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-2017-04-22" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/04/22/2017-04-22/" class="article-date">
  <time datetime="2017-04-22T00:35:02.000Z" itemprop="datePublished">2017-04-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Spring框架介绍及使用
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Spring框架—控制反转（IOC）<br>1 Spring框架概述<br>1.1 什么是Spring<br>1.2 Spring的优点<br>1.3 Spring的体系结构<br>2 入门案例:（IoC）<br>2.1导入jar包<br>2.2目标类<br>2.3 配置文件<br>2.4测试<br>3 入门案例：DI<br>3.1 目标类<br>3.2 dao<br>3.3 service<br>3.4 配置文件<br>3.5 测试<br>4 依赖注入装配Bean 基于xml<br>4.1属性依赖注入<br>4.1.1 构造方法<br>4.1.2 setter方法<br>4.2 集合依赖注入<br>5 依赖注入装配Bean 基于注解<br>Spring框架—面向切面编程（AOP）<br>1 什么是AOP<br>2 AOP实现原理<br>3 AOP术语【掌握】<br>4 AOP实现方式<br>4.1手动方式<br>4.1.1JDK动态代理<br>4.1.2 CGLIB字节码增强<br>4.2半自动<br>4.2.1目标类<br>4.2.2切面类<br>4.2.3Spring 配置<br>4.2.4 测试<br>4.3全自动<br>4.3.1 Spring配置<br>4.3.2 测试</p>
<a id="more"></a>

<p>[TOC]</p>
<h2 id="Spring框架—控制反转（IOC）"><a href="#Spring框架—控制反转（IOC）" class="headerlink" title="Spring框架—控制反转（IOC）"></a>Spring框架—控制反转（IOC）</h2><h3 id="1-Spring框架概述"><a href="#1-Spring框架概述" class="headerlink" title="1 Spring框架概述"></a>1 Spring框架概述</h3><h4 id="1-1-什么是Spring"><a href="#1-1-什么是Spring" class="headerlink" title="1.1 什么是Spring"></a>1.1 什么是Spring</h4><p>Spring是一个开源框架，Spring是于2003 年兴起的一个轻量级的Java 开发框架，由Rod Johnson 在其著作Expert One-On-One J2EE Development and Design中阐述的部分理念和原型衍生而来。它是为了解决企业应用开发的复杂性而创建的。框架的主要优势之一就是其分层架构，分层架构允许使用者选择使用哪一个组件，同时为 J2EE 应用程序开发提供集成的框架。Spring使用基本的JavaBean来完成以前只可能由EJB完成的事情。然而，Spring的用途不仅限于服务器端的开发。从简单性、可测试性和松耦合的角度而言，任何Java应用都可以从Spring中受益。Spring的核心是控制反转（IoC）和面向切面（AOP）。简单来说，Spring是一个分层的JavaSE/EE full-stack(一站式) 轻量级开源框架。</p>
<h4 id="1-2-Spring的优点"><a href="#1-2-Spring的优点" class="headerlink" title="1.2 Spring的优点"></a>1.2 Spring的优点</h4><p>方便解耦，简化开发 （高内聚低耦合）<br>Spring就是一个大工厂（容器），可以将所有对象创建和依赖关系维护，交给Spring管理<br>spring工厂是用于生成bean<br>AOP编程的支持<br>Spring提供面向切面编程，可以方便的实现对程序进行权限拦截、运行监控等功能<br>声明式事务的支持<br>只需要通过配置就可以完成对事务的管理，而无需手动编程<br>方便程序的测试<br>Spring对Junit4支持，可以通过注解方便的测试Spring程序<br>方便集成各种优秀框架<br>Spring不排斥各种优秀的开源框架，其内部提供了对各种优秀框架（如：Struts、Hibernate、MyBatis、Quartz等）的直接支持<br>降低JavaEE API的使用难度<br>Spring 对JavaEE开发中非常难用的一些API（JDBC、JavaMail、远程调用等），都提供了封装，使这些API应用难度大大降低</p>
<h4 id="1-3-Spring的体系结构"><a href="#1-3-Spring的体系结构" class="headerlink" title="1.3 Spring的体系结构"></a>1.3 Spring的体系结构</h4><p><img src="/img/spring-frame.png" alt="spring-frame"></p>
<h3 id="2-入门案例-（IoC）"><a href="#2-入门案例-（IoC）" class="headerlink" title="2 入门案例:（IoC）"></a>2 入门案例:（IoC）</h3><h4 id="2-1导入jar包"><a href="#2-1导入jar包" class="headerlink" title="2.1导入jar包"></a>2.1导入jar包</h4><p>4 + 1 ： 4个核心（beans、core、context、expression） + 1个依赖（commons-loggins…jar）<br><img src="/img/spring-jar.png" alt="spring-jar"></p>
<h4 id="2-2目标类"><a href="#2-2目标类" class="headerlink" title="2.2目标类"></a>2.2目标类</h4><p>提供UserService接口和实现类<br>获得UserService实现类的实例<br>之前开发中，直接new一个对象即可。学习spring之后，将由Spring创建对象实例–&gt; IoC 控制反转（Inverse of Control）<br>之后需要实例对象时，从spring工厂（容器）中获得，需要将实现类的全限定名称配置到xml文件中</p>
<h4 id="2-3-配置文件"><a href="#2-3-配置文件" class="headerlink" title="2.3 配置文件"></a>2.3 配置文件</h4><p>位置：任意，开发中一般在classpath下（src）<br>名称：任意，开发中常用applicationContext.xml<br>内容：添加schema约束<br>约束文件位置：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">spring-framework-3.2.0.RELEASE\docs\spring-framework-reference\html\ xsd-config.html</span><br><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;</span><br><span class="line">       xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">       xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans </span><br><span class="line">                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd&quot;&gt;</span><br><span class="line">    &lt;!-- 配置service </span><br><span class="line">        &lt;bean&gt; 配置需要创建的对象</span><br><span class="line">            id ：用于之后从spring容器获得实例时使用的</span><br><span class="line">            class ：需要创建实例的全限定类名</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;bean id&#x3D;&quot;userServiceId&quot; class&#x3D;&quot;com.itheima.a_ioc.UserServiceImpl&quot;&gt;&lt;&#x2F;bean&gt;</span><br><span class="line">&lt;&#x2F;beans&gt;</span><br></pre></td></tr></table></figure>

<h4 id="2-4测试"><a href="#2-4测试" class="headerlink" title="2.4测试"></a>2.4测试</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">@Test</span><br><span class="line"> public void demo02()&#123;</span><br><span class="line">     &#x2F;&#x2F;从spring容器获得</span><br><span class="line">     &#x2F;&#x2F;1 获得容器</span><br><span class="line">     String xmlPath &#x3D; &quot;com&#x2F;itheima&#x2F;a_ioc&#x2F;beans.xml&quot;;</span><br><span class="line">     ApplicationContext applicationContext &#x3D; new ClassPathXmlApplicationContext(xmlPath);</span><br><span class="line">     &#x2F;&#x2F;2获得内容 --不需要自己new，都是从spring容器获得</span><br><span class="line">     UserService userService &#x3D; (UserService) applicationContext.getBean(&quot;userServiceId&quot;);</span><br><span class="line">     userService.addUser();</span><br></pre></td></tr></table></figure>
<h3 id="3-入门案例：DI"><a href="#3-入门案例：DI" class="headerlink" title="3 入门案例：DI"></a>3 入门案例：DI</h3><p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">class BookServiceImpl&#123;</span><br><span class="line">    &#x2F;&#x2F;之前开发：接口 &#x3D; 实现类  （service和dao耦合）</span><br><span class="line">    &#x2F;&#x2F;private BookDao bookDao &#x3D; new BookDaoImpl();</span><br><span class="line">    &#x2F;&#x2F;spring之后 （解耦：service实现类使用dao接口，不知道具体的实现类）</span><br><span class="line">    private BookDao bookDao;</span><br><span class="line">    setter方法</span><br><span class="line">&#125;</span><br><span class="line">模拟spring执行过程</span><br><span class="line">创建service实例：BookService bookService &#x3D; new BookServiceImpl()     --&gt;IoC  &lt;bean&gt;</span><br><span class="line">创建dao实例：BookDao bookDao &#x3D; new BookDaoImple()                --&gt;IoC</span><br><span class="line">将dao设置给service：bookService.setBookDao(bookDao);             --&gt;DI   &lt;property&gt;</span><br></pre></td></tr></table></figure>
<h4 id="3-1-目标类"><a href="#3-1-目标类" class="headerlink" title="3.1 目标类"></a>3.1 目标类</h4><p>创建BookService接口和实现类<br>创建BookDao接口和实现类<br>将dao和service配置 xml文件<br>使用api测试</p>
<h4 id="3-2-dao"><a href="#3-2-dao" class="headerlink" title="3.2 dao"></a>3.2 dao</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">public interface BookDao &#123;</span><br><span class="line">    public void save();</span><br><span class="line">&#125;</span><br><span class="line">public class BookDaoImpl implements BookDao &#123;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void save() &#123;</span><br><span class="line">        System.out.println(&quot;di  add book&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-3-service"><a href="#3-3-service" class="headerlink" title="3.3 service"></a>3.3 service</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">public interface BookService &#123;</span><br><span class="line"></span><br><span class="line">    public abstract void addBook();</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">public class BookServiceImpl implements BookService &#123;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; 方式1：之前，接口&#x3D;实现类</span><br><span class="line">&#x2F;&#x2F;  private BookDao bookDao &#x3D; new BookDaoImpl();</span><br><span class="line">    &#x2F;&#x2F; 方式2：接口 + setter</span><br><span class="line">    private BookDao bookDao;</span><br><span class="line">    public void setBookDao(BookDao bookDao) &#123;</span><br><span class="line">        this.bookDao &#x3D; bookDao;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void addBook()&#123;</span><br><span class="line">        this.bookDao.save();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="3-4-配置文件"><a href="#3-4-配置文件" class="headerlink" title="3.4 配置文件"></a>3.4 配置文件</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;</span><br><span class="line">       xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">       xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans </span><br><span class="line">                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd&quot;&gt;</span><br><span class="line">    &lt;!-- </span><br><span class="line">    模拟spring执行过程</span><br><span class="line">        创建service实例：BookService bookService &#x3D; new BookServiceImpl() IoC  &lt;bean&gt;</span><br><span class="line">        创建dao实例：BookDao bookDao &#x3D; new BookDaoImpl()         IoC</span><br><span class="line">        将dao设置给service：bookService.setBookDao(bookDao);     DI   &lt;property&gt;</span><br><span class="line"></span><br><span class="line">        &lt;property&gt; 用于进行属性注入</span><br><span class="line">            name： bean的属性名，通过setter方法获得</span><br><span class="line">                setBookDao ##&gt; BookDao  ##&gt; bookDao</span><br><span class="line">            ref ：另一个bean的id值的引用</span><br><span class="line">     --&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 创建service --&gt;</span><br><span class="line">    &lt;bean id&#x3D;&quot;bookServiceId&quot; class&#x3D;&quot;com.itheima.b_di.BookServiceImpl&quot;&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;bookDao&quot; ref&#x3D;&quot;bookDaoId&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">    &lt;&#x2F;bean&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 创建dao实例 --&gt;</span><br><span class="line">    &lt;bean id&#x3D;&quot;bookDaoId&quot; class&#x3D;&quot;com.itheima.b_di.BookDaoImpl&quot;&gt;&lt;&#x2F;bean&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;&#x2F;beans&gt;</span><br></pre></td></tr></table></figure>

<h4 id="3-5-测试"><a href="#3-5-测试" class="headerlink" title="3.5 测试"></a>3.5 测试</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">@Test</span><br><span class="line">public void demo01()&#123;</span><br><span class="line">    &#x2F;&#x2F;从spring容器获得</span><br><span class="line">    String xmlPath &#x3D; &quot;com&#x2F;itheima&#x2F;b_di&#x2F;beans.xml&quot;;</span><br><span class="line">    ApplicationContext applicationContext &#x3D; new ClassPathXmlApplicationContext(xmlPath);</span><br><span class="line">    BookService bookService &#x3D; (BookService) applicationContext.getBean(&quot;bookServiceId&quot;);    </span><br><span class="line">    bookService.addBook();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-依赖注入装配Bean-基于xml"><a href="#4-依赖注入装配Bean-基于xml" class="headerlink" title="4 依赖注入装配Bean 基于xml"></a>4 依赖注入装配Bean 基于xml</h3><h4 id="4-1属性依赖注入"><a href="#4-1属性依赖注入" class="headerlink" title="4.1属性依赖注入"></a>4.1属性依赖注入</h4><p>依赖注入方式：手动装配 和 自动装配<br>手动装配：一般进行配置信息都采用手动<br>基于xml装配：构造方法、setter方法<br>基于注解装配：</p>
<h5 id="4-1-1-构造方法"><a href="#4-1-1-构造方法" class="headerlink" title="4.1.1 构造方法"></a>4.1.1 构造方法</h5><p>目标类</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">public class User &#123;</span><br><span class="line"></span><br><span class="line">    private Integer uid;</span><br><span class="line">    private String username;</span><br><span class="line">    private Integer age;</span><br><span class="line"></span><br><span class="line">    public User(Integer uid, String username) &#123;</span><br><span class="line">        super();</span><br><span class="line">        this.uid &#x3D; uid;</span><br><span class="line">        this.username &#x3D; username;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public User(String username, Integer age) &#123;</span><br><span class="line">        super();</span><br><span class="line">        this.username &#x3D; username;</span><br><span class="line">        this.age &#x3D; age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">spring配置</span><br><span class="line"></span><br><span class="line">    &lt;!-- 构造方法注入 </span><br><span class="line">        * &lt;constructor-arg&gt; 用于配置构造方法一个参数argument</span><br><span class="line">            name ：参数的名称</span><br><span class="line">            value：设置普通数据</span><br><span class="line">            ref：引用数据，一般是另一个bean id值</span><br><span class="line"></span><br><span class="line">            index ：参数的索引号，从0开始 。如果只有索引，匹配到了多个构造方法时，默认使用第一个。</span><br><span class="line">            type ：确定参数类型</span><br><span class="line">        例如：使用名称name</span><br><span class="line">            &lt;constructor-arg name&#x3D;&quot;username&quot; value&#x3D;&quot;jack&quot;&gt;&lt;&#x2F;constructor-arg&gt;</span><br><span class="line">            &lt;constructor-arg name&#x3D;&quot;age&quot; value&#x3D;&quot;18&quot;&gt;&lt;&#x2F;constructor-arg&gt;</span><br><span class="line">        例如2：【类型type 和  索引 index】</span><br><span class="line">            &lt;constructor-arg index&#x3D;&quot;0&quot; type&#x3D;&quot;java.lang.String&quot; value&#x3D;&quot;1&quot;&gt;&lt;&#x2F;constructor-arg&gt;</span><br><span class="line">            &lt;constructor-arg index&#x3D;&quot;1&quot; type&#x3D;&quot;java.lang.Integer&quot; value&#x3D;&quot;2&quot;&gt;&lt;&#x2F;constructor-arg&gt;</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;bean id&#x3D;&quot;userId&quot; class&#x3D;&quot;com.itheima.f_xml.a_constructor.User&quot; &gt;</span><br><span class="line">        &lt;constructor-arg index&#x3D;&quot;0&quot; type&#x3D;&quot;java.lang.String&quot; value&#x3D;&quot;1&quot;&gt;&lt;&#x2F;constructor-arg&gt;</span><br><span class="line">        &lt;constructor-arg index&#x3D;&quot;1&quot; type&#x3D;&quot;java.lang.Integer&quot; value&#x3D;&quot;2&quot;&gt;&lt;&#x2F;constructor-arg&gt;</span><br><span class="line">    &lt;&#x2F;bean&gt;</span><br></pre></td></tr></table></figure>

<h5 id="4-1-2-setter方法"><a href="#4-1-2-setter方法" class="headerlink" title="4.1.2 setter方法"></a>4.1.2 setter方法</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;!-- setter方法注入 </span><br><span class="line">        * 普通数据 </span><br><span class="line">            &lt;property name&#x3D;&quot;&quot; value&#x3D;&quot;值&quot;&gt;</span><br><span class="line">            等效</span><br><span class="line">            &lt;property name&#x3D;&quot;&quot;&gt;</span><br><span class="line">                &lt;value&gt;值</span><br><span class="line">        * 引用数据</span><br><span class="line">            &lt;property name&#x3D;&quot;&quot; ref&#x3D;&quot;另一个bean&quot;&gt;</span><br><span class="line">            等效</span><br><span class="line">            &lt;property name&#x3D;&quot;&quot;&gt;</span><br><span class="line">                &lt;ref bean&#x3D;&quot;另一个bean&quot;&#x2F;&gt;</span><br><span class="line"></span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;bean id&#x3D;&quot;personId&quot; class&#x3D;&quot;com.itheima.f_xml.b_setter.Person&quot;&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;pname&quot; value&#x3D;&quot;阳志&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;age&quot;&gt;</span><br><span class="line">            &lt;value&gt;1234&lt;&#x2F;value&gt;</span><br><span class="line">        &lt;&#x2F;property&gt;</span><br><span class="line"></span><br><span class="line">        &lt;property name&#x3D;&quot;homeAddr&quot; ref&#x3D;&quot;homeAddrId&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;companyAddr&quot;&gt;</span><br><span class="line">            &lt;ref bean&#x3D;&quot;companyAddrId&quot;&#x2F;&gt;</span><br><span class="line">        &lt;&#x2F;property&gt;</span><br><span class="line">    &lt;&#x2F;bean&gt;</span><br><span class="line"></span><br><span class="line">    &lt;bean id&#x3D;&quot;homeAddrId&quot; class&#x3D;&quot;com.itheima.f_xml.b_setter.Address&quot;&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;addr&quot; value&#x3D;&quot;阜南&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;tel&quot; value&#x3D;&quot;911&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">    &lt;&#x2F;bean&gt;</span><br><span class="line">    &lt;bean id&#x3D;&quot;companyAddrId&quot; class&#x3D;&quot;com.itheima.f_xml.b_setter.Address&quot;&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;addr&quot; value&#x3D;&quot;北京八宝山&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;tel&quot; value&#x3D;&quot;120&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">    &lt;&#x2F;bean&gt;</span><br></pre></td></tr></table></figure>

<h4 id="4-2-集合依赖注入"><a href="#4-2-集合依赖注入" class="headerlink" title="4.2 集合依赖注入"></a>4.2 集合依赖注入</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- </span><br><span class="line">        集合的注入都是给&lt;property&gt;添加子标签</span><br><span class="line">            数组：&lt;array&gt;</span><br><span class="line">            List：&lt;list&gt;</span><br><span class="line">            Set：&lt;set&gt;</span><br><span class="line">            Map：&lt;map&gt; ，map存放k&#x2F;v 键值对，使用&lt;entry&gt;描述</span><br><span class="line">            Properties：&lt;props&gt;  &lt;prop key&#x3D;&quot;&quot;&gt;&lt;&#x2F;prop&gt;  【】</span><br><span class="line"></span><br><span class="line">        普通数据：&lt;value&gt;</span><br><span class="line">        引用数据：&lt;ref&gt;</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;bean id&#x3D;&quot;collDataId&quot; class&#x3D;&quot;com.itheima.f_xml.e_coll.CollData&quot; &gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;arrayData&quot;&gt;</span><br><span class="line">            &lt;array&gt;</span><br><span class="line">                &lt;value&gt;DS&lt;&#x2F;value&gt;</span><br><span class="line">                &lt;value&gt;DZD&lt;&#x2F;value&gt;</span><br><span class="line">                &lt;value&gt;屌丝&lt;&#x2F;value&gt;</span><br><span class="line">                &lt;value&gt;屌中屌&lt;&#x2F;value&gt;</span><br><span class="line">            &lt;&#x2F;array&gt;</span><br><span class="line">        &lt;&#x2F;property&gt;</span><br><span class="line"></span><br><span class="line">        &lt;property name&#x3D;&quot;listData&quot;&gt;</span><br><span class="line">            &lt;list&gt;</span><br><span class="line">                &lt;value&gt;于嵩楠&lt;&#x2F;value&gt;</span><br><span class="line">                &lt;value&gt;曾卫&lt;&#x2F;value&gt;</span><br><span class="line">                &lt;value&gt;杨煜&lt;&#x2F;value&gt;</span><br><span class="line">                &lt;value&gt;曾小贤&lt;&#x2F;value&gt;</span><br><span class="line">            &lt;&#x2F;list&gt;</span><br><span class="line">        &lt;&#x2F;property&gt;</span><br><span class="line"></span><br><span class="line">        &lt;property name&#x3D;&quot;setData&quot;&gt;</span><br><span class="line">            &lt;set&gt;</span><br><span class="line">                &lt;value&gt;停封&lt;&#x2F;value&gt;</span><br><span class="line">                &lt;value&gt;薄纸&lt;&#x2F;value&gt;</span><br><span class="line">                &lt;value&gt;关系&lt;&#x2F;value&gt;</span><br><span class="line">            &lt;&#x2F;set&gt;</span><br><span class="line">        &lt;&#x2F;property&gt;</span><br><span class="line"></span><br><span class="line">        &lt;property name&#x3D;&quot;mapData&quot;&gt;</span><br><span class="line">            &lt;map&gt;</span><br><span class="line">                &lt;entry key&#x3D;&quot;jack&quot; value&#x3D;&quot;杰克&quot;&gt;&lt;&#x2F;entry&gt;</span><br><span class="line">                &lt;entry&gt;</span><br><span class="line">                    &lt;key&gt;&lt;value&gt;rose&lt;&#x2F;value&gt;&lt;&#x2F;key&gt;</span><br><span class="line">                    &lt;value&gt;肉丝&lt;&#x2F;value&gt;</span><br><span class="line">                &lt;&#x2F;entry&gt;</span><br><span class="line">            &lt;&#x2F;map&gt;</span><br><span class="line">        &lt;&#x2F;property&gt;</span><br><span class="line"></span><br><span class="line">        &lt;property name&#x3D;&quot;propsData&quot;&gt;</span><br><span class="line">            &lt;props&gt;</span><br><span class="line">                &lt;prop key&#x3D;&quot;高富帅&quot;&gt;嫐&lt;&#x2F;prop&gt;</span><br><span class="line">                &lt;prop key&#x3D;&quot;白富美&quot;&gt;嬲&lt;&#x2F;prop&gt;</span><br><span class="line">                &lt;prop key&#x3D;&quot;男屌丝&quot;&gt;挊&lt;&#x2F;prop&gt;</span><br><span class="line">            &lt;&#x2F;props&gt;</span><br><span class="line">        &lt;&#x2F;property&gt;</span><br><span class="line">    &lt;&#x2F;bean&gt;</span><br></pre></td></tr></table></figure>

<h3 id="5-依赖注入装配Bean-基于注解"><a href="#5-依赖注入装配Bean-基于注解" class="headerlink" title="5 依赖注入装配Bean 基于注解"></a>5 依赖注入装配Bean 基于注解</h3><p>注解：就是一个类，使用@注解名称<br>开发中：使用注解 取代 xml配置文件。</p>
<ol>
<li>@Component取代<bean class=""><br>@Component(“id”) 取代 <bean id="" class=""></li>
<li>web开发，提供3个@Component注解衍生注解（功能一样）取代<br>@Repository ：dao层<br>@Service：service层<br>@Controller：web层</li>
<li>依赖注入，给私有字段设值，也可以给setter方法设值</li>
</ol>
<p>普通值：@Value(“ “)<br>引用值：<br>方式1：按照【类型】注入<br>@Autowired<br>方式2：按照【名称】注入1<br>@Autowired<br>@Qualifier(“名称”)<br>方式3：按照【名称】注入2<br>@Resource(“名称”)<br>4. 生命周期<br>初始化：@PostConstruct<br>销毁：@PreDestroy<br>5. 作用域<br>@Scope(“prototype”) 多例<br>注解使用前提，添加命名空间，让spring扫描含有注解类</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;</span><br><span class="line">   xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">   xmlns:context&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&quot;</span><br><span class="line">   xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans </span><br><span class="line">                       http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd</span><br><span class="line">                       http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context </span><br><span class="line">                       http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;context&#x2F;spring-context.xsd&quot;&gt;</span><br><span class="line">&lt;!-- 组件扫描，扫描含有注解的类 --&gt;</span><br><span class="line">&lt;context:component-scan base-package&#x3D;&quot;com.itheima.g_annotation.a_ioc&quot;&gt;&lt;&#x2F;context:component-scan&gt;</span><br><span class="line">&lt;&#x2F;beans&gt;</span><br></pre></td></tr></table></figure>
<h2 id="Spring框架—面向切面编程（AOP）"><a href="#Spring框架—面向切面编程（AOP）" class="headerlink" title="Spring框架—面向切面编程（AOP）"></a>Spring框架—面向切面编程（AOP）</h2><h3 id="1-什么是AOP"><a href="#1-什么是AOP" class="headerlink" title="1 什么是AOP"></a>1 什么是AOP</h3><p>在软件业，AOP为Aspect Oriented Programming的缩写，意为：面向切面编程，通过预编译方式和运行期动态代理实现程序功能的统一维护的一种技术。AOP是OOP（面向对象编程）的延续，是软件开发中的一个热点，也是Spring框架中的一个重要内容，是函数式编程的一种衍生范型。利用AOP可以对业务逻辑的各个部分进行隔离，从而使得业务逻辑各部分之间的耦合度降低，提高程序的可重用性，同时提高了开发的效率。<br>AOP采取横向抽取机制，取代了传统纵向继承体系重复性代码<br>经典应用：事务管理、性能监视、安全检查、缓存 、日志等<br>Spring AOP使用纯Java实现，不需要专门的编译过程和类加载器，在运行期通过代理方式向目标类织入增强代码<br>AspectJ是一个基于Java语言的AOP框架，Spring2.0开始，Spring AOP引入对Aspect的支持，AspectJ扩展了Java语言，提供了一个专门的编译器，在编译时提供横向代码的织入<br><img src="/img/aop-2017-04-23-3.png" alt="aop"></p>
<h3 id="2-AOP实现原理"><a href="#2-AOP实现原理" class="headerlink" title="2 AOP实现原理"></a>2 AOP实现原理</h3><p>aop底层将采用代理机制进行实现。<br>接口 + 实现类 ：spring采用 jdk 的动态代理Proxy。<br>实现类：spring 采用 cglib字节码增强。</p>
<h3 id="3-AOP术语【掌握】"><a href="#3-AOP术语【掌握】" class="headerlink" title="3 AOP术语【掌握】"></a>3 AOP术语【掌握】</h3><p>1.target：目标类，需要被代理的类。例如：UserService<br>2.Joinpoint(连接点):所谓连接点是指那些可能被拦截到的方法。例如：所有的方法<br>3.PointCut 切入点：已经被增强的连接点。例如：addUser()<br>4.advice 通知/增强，增强代码。例如：after、before<br>5. Weaving(织入):是指把增强advice应用到目标对象target来创建新的代理对象proxy的过程.<br>6.proxy 代理类<br>7. Aspect(切面): 是切入点pointcut和通知advice的结合<br>一个线是一个特殊的面。<br>一个切入点和一个通知，组成成一个特殊的面。</p>
<h3 id="4-AOP实现方式"><a href="#4-AOP实现方式" class="headerlink" title="4 AOP实现方式"></a>4 AOP实现方式</h3><h4 id="4-1手动方式"><a href="#4-1手动方式" class="headerlink" title="4.1手动方式"></a>4.1手动方式</h4><h5 id="4-1-1JDK动态代理"><a href="#4-1-1JDK动态代理" class="headerlink" title="4.1.1JDK动态代理"></a>4.1.1JDK动态代理</h5><p>JDK动态代理 对“装饰者”设计模式 简化。使用前提：必须有接口<br>1.目标类：接口 + 实现类</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">public interface UserService &#123;</span><br><span class="line">    public void addUser();</span><br><span class="line">    public void updateUser();</span><br><span class="line">    public void deleteUser();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2.切面类：用于存通知 MyAspect</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public class MyAspect &#123; </span><br><span class="line">    public void before()&#123;</span><br><span class="line">        System.out.println(&quot;鸡首&quot;);</span><br><span class="line">    &#125;   </span><br><span class="line">    public void after()&#123;</span><br><span class="line">        System.out.println(&quot;牛后&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>3.工厂类：编写工厂生成代理</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">public class MyBeanFactory &#123;</span><br><span class="line"></span><br><span class="line">    public static UserService createService()&#123;</span><br><span class="line">        &#x2F;&#x2F;1 目标类</span><br><span class="line">        final UserService userService &#x3D; new UserServiceImpl();</span><br><span class="line">        &#x2F;&#x2F;2切面类</span><br><span class="line">        final MyAspect myAspect &#x3D; new MyAspect();</span><br><span class="line">        &#x2F;* 3 代理类：将目标类（切入点）和 切面类（通知） 结合 --&gt; 切面</span><br><span class="line">         *  Proxy.newProxyInstance</span><br><span class="line">         *      参数1：loader ，类加载器，动态代理类 运行时创建，任何类都需要类加载器将其加载到内存。</span><br><span class="line">         *          一般情况：当前类.class.getClassLoader();</span><br><span class="line">         *                  目标类实例.getClass().get...</span><br><span class="line">         *      参数2：Class[] interfaces 代理类需要实现的所有接口</span><br><span class="line">         *          方式1：目标类实例.getClass().getInterfaces()  ;注意：只能获得自己接口，不能获得父元素接口</span><br><span class="line">         *          方式2：new Class[]&#123;UserService.class&#125;   </span><br><span class="line">         *          例如：jdbc 驱动  --&gt; DriverManager  获得接口 Connection</span><br><span class="line">         *      参数3：InvocationHandler  处理类，接口，必须进行实现类，一般采用匿名内部</span><br><span class="line">         *          提供 invoke 方法，代理类的每一个方法执行时，都将调用一次invoke</span><br><span class="line">         *              参数31：Object proxy ：代理对象</span><br><span class="line">         *              参数32：Method method : 代理对象当前执行的方法的描述对象（反射）</span><br><span class="line">         *                  执行方法名：method.getName()</span><br><span class="line">         *                  执行方法：method.invoke(对象，实际参数)</span><br><span class="line">         *              参数33：Object[] args :方法实际参数</span><br><span class="line">         * </span><br><span class="line">         *&#x2F;</span><br><span class="line">        UserService proxService &#x3D; (UserService)Proxy.newProxyInstance(</span><br><span class="line">                                MyBeanFactory.class.getClassLoader(), </span><br><span class="line">                                userService.getClass().getInterfaces(), </span><br><span class="line">                                new InvocationHandler() &#123;</span><br><span class="line"></span><br><span class="line">                                    @Override</span><br><span class="line">                                    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable &#123;</span><br><span class="line"></span><br><span class="line">                                        &#x2F;&#x2F;前执行</span><br><span class="line">                                        myAspect.before();</span><br><span class="line"></span><br><span class="line">                                        &#x2F;&#x2F;执行目标类的方法</span><br><span class="line">                                        Object obj &#x3D; method.invoke(userService, args);</span><br><span class="line"></span><br><span class="line">                                        &#x2F;&#x2F;后执行</span><br><span class="line">                                        myAspect.after();</span><br><span class="line"></span><br><span class="line">                                        return obj;</span><br><span class="line">                                    &#125;</span><br><span class="line">                                &#125;);</span><br><span class="line"></span><br><span class="line">        return proxService;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-测试"><a href="#4-测试" class="headerlink" title="4.测试"></a>4.测试</h3><h4 id="4-1-demo"><a href="#4-1-demo" class="headerlink" title="4.1 demo"></a>4.1 demo</h4><p>4.测试</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">public void demo01()&#123;</span><br><span class="line">      UserService userService &#x3D; MyBeanFactory.createService();</span><br><span class="line">      userService.addUser();</span><br><span class="line">      userService.updateUser();</span><br><span class="line">      userService.deleteUser();</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h5 id="4-1-2-CGLIB字节码增强"><a href="#4-1-2-CGLIB字节码增强" class="headerlink" title="4.1.2 CGLIB字节码增强"></a>4.1.2 CGLIB字节码增强</h5><p>没有接口，只有实现类。<br>采用字节码增强框架 cglib，在运行时 创建目标类的子类，从而对目标类进行增强。<br>工厂类</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">public class MyBeanFactory &#123;</span><br><span class="line"></span><br><span class="line">    public static UserServiceImpl createService()&#123;</span><br><span class="line">        &#x2F;&#x2F;1 目标类</span><br><span class="line">        final UserServiceImpl userService &#x3D; new UserServiceImpl();</span><br><span class="line">        &#x2F;&#x2F;2切面类</span><br><span class="line">        final MyAspect myAspect &#x3D; new MyAspect();</span><br><span class="line">        &#x2F;&#x2F; 3.代理类 ，采用cglib，底层创建目标类的子类</span><br><span class="line">        &#x2F;&#x2F;3.1 核心类</span><br><span class="line">        Enhancer enhancer &#x3D; new Enhancer();</span><br><span class="line">        &#x2F;&#x2F;3.2 确定父类</span><br><span class="line">        enhancer.setSuperclass(userService.getClass());</span><br><span class="line">        &#x2F;* 3.3 设置回调函数 , MethodInterceptor接口 等效 jdk InvocationHandler接口</span><br><span class="line">         *  intercept() 等效 jdk  invoke()</span><br><span class="line">         *      参数1、参数2、参数3：以invoke一样</span><br><span class="line">         *      参数4：methodProxy 方法的代理</span><br><span class="line">         *      </span><br><span class="line">         * </span><br><span class="line">         *&#x2F;</span><br><span class="line">        enhancer.setCallback(new MethodInterceptor()&#123;</span><br><span class="line"></span><br><span class="line">            @Override</span><br><span class="line">            public Object intercept(Object proxy, Method method, Object[] args, MethodProxy methodProxy) throws Throwable &#123;</span><br><span class="line"></span><br><span class="line">                &#x2F;&#x2F;前</span><br><span class="line">                myAspect.before();</span><br><span class="line"></span><br><span class="line">                &#x2F;&#x2F;执行目标类的方法</span><br><span class="line">                Object obj &#x3D; method.invoke(userService, args);</span><br><span class="line">                &#x2F;&#x2F; * 执行代理类的父类 ，执行目标类 （目标类和代理类 父子关系）</span><br><span class="line">                methodProxy.invokeSuper(proxy, args);</span><br><span class="line"></span><br><span class="line">                &#x2F;&#x2F;后</span><br><span class="line">                myAspect.after();</span><br><span class="line"></span><br><span class="line">                return obj;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        &#x2F;&#x2F;3.4 创建代理</span><br><span class="line">        UserServiceImpl proxService &#x3D; (UserServiceImpl) enhancer.create();</span><br><span class="line"></span><br><span class="line">        return proxService;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="4-2半自动"><a href="#4-2半自动" class="headerlink" title="4.2半自动"></a>4.2半自动</h4><p>让spring 创建代理对象，从spring容器中手动的获取代理对象</p>
<h5 id="4-2-1目标类"><a href="#4-2-1目标类" class="headerlink" title="4.2.1目标类"></a>4.2.1目标类</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">public interface UserService &#123;</span><br><span class="line">    public void addUser();</span><br><span class="line">    public void updateUser();</span><br><span class="line">    public void deleteUser();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="4-2-2切面类"><a href="#4-2-2切面类" class="headerlink" title="4.2.2切面类"></a>4.2.2切面类</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> * 切面类中确定通知，需要实现不同接口，接口就是规范，从而就确定方法名称。</span><br><span class="line"> * * 采用“环绕通知” MethodInterceptor</span><br><span class="line"> *</span><br><span class="line"> *&#x2F;</span><br><span class="line">public class MyAspect implements MethodInterceptor &#123;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public Object invoke(MethodInvocation mi) throws Throwable &#123;</span><br><span class="line"></span><br><span class="line">        System.out.println(&quot;前3&quot;);</span><br><span class="line"></span><br><span class="line">        &#x2F;&#x2F;手动执行目标方法</span><br><span class="line">        Object obj &#x3D; mi.proceed();</span><br><span class="line"></span><br><span class="line">        System.out.println(&quot;后3&quot;);</span><br><span class="line">        return obj;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="4-2-3Spring-配置"><a href="#4-2-3Spring-配置" class="headerlink" title="4.2.3Spring 配置"></a>4.2.3Spring 配置</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 1 创建目标类 --&gt;</span><br><span class="line">    &lt;bean id&#x3D;&quot;userServiceId&quot; class&#x3D;&quot;com.itheima.b_factory_bean.UserServiceImpl&quot;&gt;&lt;&#x2F;bean&gt;</span><br><span class="line">    &lt;!-- 2 创建切面类 --&gt;</span><br><span class="line">    &lt;bean id&#x3D;&quot;myAspectId&quot; class&#x3D;&quot;com.itheima.b_factory_bean.MyAspect&quot;&gt;&lt;&#x2F;bean&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 3 创建代理类 </span><br><span class="line">        * 使用工厂bean FactoryBean ，底层调用 getObject() 返回特殊bean</span><br><span class="line">        * ProxyFactoryBean 用于创建代理工厂bean，生成特殊代理对象</span><br><span class="line">            interfaces : 确定接口们</span><br><span class="line">                通过&lt;array&gt;可以设置多个值</span><br><span class="line">                只有一个值时，value&#x3D;&quot;&quot;</span><br><span class="line">            target : 确定目标类</span><br><span class="line">            interceptorNames : 通知 切面类的名称，类型String[]，如果设置一个值 value&#x3D;&quot;&quot;</span><br><span class="line">            optimize :强制使用cglib</span><br><span class="line">                &lt;property name&#x3D;&quot;optimize&quot; value&#x3D;&quot;true&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">        底层机制</span><br><span class="line">            如果目标类有接口，采用jdk动态代理</span><br><span class="line">            如果没有接口，采用cglib 字节码增强</span><br><span class="line">            如果声明 optimize &#x3D; true ，无论是否有接口，都采用cglib</span><br><span class="line"></span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;bean id&#x3D;&quot;proxyServiceId&quot; class&#x3D;&quot;org.springframework.aop.framework.ProxyFactoryBean&quot;&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;interfaces&quot; value&#x3D;&quot;com.itheima.b_factory_bean.UserService&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;target&quot; ref&#x3D;&quot;userServiceId&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">        &lt;property name&#x3D;&quot;interceptorNames&quot; value&#x3D;&quot;myAspectId&quot;&gt;&lt;&#x2F;property&gt;</span><br><span class="line">    &lt;&#x2F;bean&gt;</span><br></pre></td></tr></table></figure>

<h5 id="4-2-4-测试"><a href="#4-2-4-测试" class="headerlink" title="4.2.4 测试"></a>4.2.4 测试</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">@Test</span><br><span class="line">public void demo01()&#123;</span><br><span class="line">    String xmlPath &#x3D; &quot;com&#x2F;itheima&#x2F;b_factory_bean&#x2F;beans.xml&quot;;</span><br><span class="line">    ApplicationContext applicationContext &#x3D; new ClassPathXmlApplicationContext(xmlPath);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;获得代理类</span><br><span class="line">    UserService userService &#x3D; (UserService) applicationContext.getBean(&quot;proxyServiceId&quot;);</span><br><span class="line">    userService.addUser();</span><br><span class="line">    userService.updateUser();</span><br><span class="line">    userService.deleteUser();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="4-3全自动"><a href="#4-3全自动" class="headerlink" title="4.3全自动"></a>4.3全自动</h4><p>从spring容器获得目标类，如果配置aop，spring将自动生成代理。</p>
<h5 id="4-3-1-Spring配置"><a href="#4-3-1-Spring配置" class="headerlink" title="4.3.1 Spring配置"></a>4.3.1 Spring配置</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;</span><br><span class="line">&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot;</span><br><span class="line">       xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot;</span><br><span class="line">       xmlns:aop&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&quot;</span><br><span class="line">       xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans </span><br><span class="line">                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd</span><br><span class="line">                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop </span><br><span class="line">                           http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;aop&#x2F;spring-aop.xsd&quot;&gt;</span><br><span class="line">    &lt;!-- 1 创建目标类 --&gt;</span><br><span class="line">    &lt;bean id&#x3D;&quot;userServiceId&quot; class&#x3D;&quot;com.itheima.c_spring_aop.UserServiceImpl&quot;&gt;&lt;&#x2F;bean&gt;</span><br><span class="line">    &lt;!-- 2 创建切面类（通知） --&gt;</span><br><span class="line">    &lt;bean id&#x3D;&quot;myAspectId&quot; class&#x3D;&quot;com.itheima.c_spring_aop.MyAspect&quot;&gt;&lt;&#x2F;bean&gt;</span><br><span class="line">    &lt;!-- 3 aop编程 </span><br><span class="line">        3.1 导入命名空间</span><br><span class="line">        3.2 使用 &lt;aop:config&gt;进行配置</span><br><span class="line">                proxy-target-class&#x3D;&quot;true&quot; 声明时使用cglib代理</span><br><span class="line">            &lt;aop:pointcut&gt; 切入点 ，从目标对象获得具体方法</span><br><span class="line">            &lt;aop:advisor&gt; 特殊的切面，只有一个通知 和 一个切入点</span><br><span class="line">                advice-ref 通知引用</span><br><span class="line">                pointcut-ref 切入点引用</span><br><span class="line">        3.3 切入点表达式</span><br><span class="line">            execution(* com.itheima.c_spring_aop.*.*(..))</span><br><span class="line">            选择方法         返回值任意   包             类名任意   方法名任意   参数任意</span><br><span class="line"></span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;aop:config proxy-target-class&#x3D;&quot;true&quot;&gt;</span><br><span class="line">        &lt;aop:pointcut expression&#x3D;&quot;execution(* com.itheima.c_spring_aop.*.*(..))&quot; id&#x3D;&quot;myPointCut&quot;&#x2F;&gt;</span><br><span class="line">        &lt;aop:advisor advice-ref&#x3D;&quot;myAspectId&quot; pointcut-ref&#x3D;&quot;myPointCut&quot;&#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;aop:config&gt;</span><br><span class="line">&lt;&#x2F;beans&gt;</span><br></pre></td></tr></table></figure>

<!-- more -->
<h5 id="4-3-2-测试"><a href="#4-3-2-测试" class="headerlink" title="4.3.2 测试"></a>4.3.2 测试</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">@Test</span><br><span class="line">public void demo01()&#123;</span><br><span class="line">    String xmlPath &#x3D; &quot;com&#x2F;itheima&#x2F;c_spring_aop&#x2F;beans.xml&quot;;</span><br><span class="line">    ApplicationContext applicationContext &#x3D; new ClassPathXmlApplicationContext(xmlPath);</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F;获得目标类</span><br><span class="line">    UserService userService &#x3D; (UserService) applicationContext.getBean(&quot;userServiceId&quot;);</span><br><span class="line">    userService.addUser();</span><br><span class="line">    userService.updateUser();</span><br><span class="line">    userService.deleteUser();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



      
    </div>
    <footer class="article-footer">
      <a data-url="http://droidman.net/2017/04/22/2017-04-22/" data-id="cmcw2edh7000913z8645o7rgv" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AOP/" rel="tag">AOP</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/IOC/" rel="tag">IOC</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Spring/" rel="tag">Spring</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2017/04/23/2017-04-23/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Java 并发面试总结
        
      </div>
    </a>
  
  
    <a href="/2017/04/16/2017-04-16/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">编程中的基本数据结构与算法思想</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AOP/" rel="tag">AOP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Assetbundle/" rel="tag">Assetbundle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C#</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IOC/" rel="tag">IOC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM/" rel="tag">JVM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Markdown/" rel="tag">Markdown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Shader/" rel="tag">Shader</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Slot-%E8%80%81%E8%99%8E%E6%9C%BA%EF%BC%8C%E6%B8%B8%E6%88%8F%E7%A0%94%E7%A9%B6/" rel="tag">Slot, 老虎机，游戏研究</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring/" rel="tag">Spring</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tomcat/" rel="tag">Tomcat</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UGUI/" rel="tag">UGUI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unity/" rel="tag">Unity</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unity-C/" rel="tag">Unity, C#</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unity-UI%E6%A1%86%E6%9E%B6-UGUI/" rel="tag">Unity, UI框架, UGUI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unity%EF%BC%8CAssetBundle/" rel="tag">Unity，AssetBundle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android/" rel="tag">android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flask/" rel="tag">flask</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/game/" rel="tag">game</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gameframework/" rel="tag">gameframework</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http-server/" rel="tag">http.server</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/keyboard/" rel="tag">keyboard</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/" rel="tag">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/slot-%E8%80%81%E8%99%8E%E6%9C%BA-slot-game/" rel="tag">slot, 老虎机, slot game</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/socket/" rel="tag">socket</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/unity/" rel="tag">unity</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/unity-python/" rel="tag">unity python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/xlua-lua-framework/" rel="tag">xlua, lua, framework</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8A%B1%E5%BF%97/" rel="tag">励志</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%B6%E5%8F%91/" rel="tag">并发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" rel="tag">性能优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" rel="tag">正则表达式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%89%A9%E7%90%86%E5%BC%95%E6%93%8E/" rel="tag">物理引擎</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A8%8B%E5%BA%8F%E5%91%98/" rel="tag">程序员</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95/" rel="tag">面试</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/AOP/" style="font-size: 10px;">AOP</a> <a href="/tags/Assetbundle/" style="font-size: 10px;">Assetbundle</a> <a href="/tags/C/" style="font-size: 15px;">C#</a> <a href="/tags/IOC/" style="font-size: 10px;">IOC</a> <a href="/tags/JVM/" style="font-size: 10px;">JVM</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/Shader/" style="font-size: 10px;">Shader</a> <a href="/tags/Slot-%E8%80%81%E8%99%8E%E6%9C%BA%EF%BC%8C%E6%B8%B8%E6%88%8F%E7%A0%94%E7%A9%B6/" style="font-size: 10px;">Slot, 老虎机，游戏研究</a> <a href="/tags/Spring/" style="font-size: 10px;">Spring</a> <a href="/tags/Tomcat/" style="font-size: 10px;">Tomcat</a> <a href="/tags/UGUI/" style="font-size: 11.67px;">UGUI</a> <a href="/tags/Unity/" style="font-size: 18.33px;">Unity</a> <a href="/tags/Unity-C/" style="font-size: 10px;">Unity, C#</a> <a href="/tags/Unity-UI%E6%A1%86%E6%9E%B6-UGUI/" style="font-size: 10px;">Unity, UI框架, UGUI</a> <a href="/tags/Unity%EF%BC%8CAssetBundle/" style="font-size: 10px;">Unity，AssetBundle</a> <a href="/tags/android/" style="font-size: 10px;">android</a> <a href="/tags/flask/" style="font-size: 10px;">flask</a> <a href="/tags/game/" style="font-size: 10px;">game</a> <a href="/tags/gameframework/" style="font-size: 10px;">gameframework</a> <a href="/tags/http-server/" style="font-size: 10px;">http.server</a> <a href="/tags/keyboard/" style="font-size: 10px;">keyboard</a> <a href="/tags/mysql/" style="font-size: 13.33px;">mysql</a> <a href="/tags/python/" style="font-size: 13.33px;">python</a> <a href="/tags/slot-%E8%80%81%E8%99%8E%E6%9C%BA-slot-game/" style="font-size: 10px;">slot, 老虎机, slot game</a> <a href="/tags/socket/" style="font-size: 10px;">socket</a> <a href="/tags/unity/" style="font-size: 16.67px;">unity</a> <a href="/tags/unity-python/" style="font-size: 10px;">unity python</a> <a href="/tags/xlua-lua-framework/" style="font-size: 11.67px;">xlua, lua, framework</a> <a href="/tags/%E5%8A%B1%E5%BF%97/" style="font-size: 10px;">励志</a> <a href="/tags/%E5%B9%B6%E5%8F%91/" style="font-size: 10px;">并发</a> <a href="/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" style="font-size: 10px;">性能优化</a> <a href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 10px;">正则表达式</a> <a href="/tags/%E7%89%A9%E7%90%86%E5%BC%95%E6%93%8E/" style="font-size: 10px;">物理引擎</a> <a href="/tags/%E7%A8%8B%E5%BA%8F%E5%91%98/" style="font-size: 10px;">程序员</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 11.67px;">算法</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 20px;">设计模式</a> <a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 11.67px;">面试</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/07/">July 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/06/">June 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/07/13/2025-07-13/">简单的服务器搭建</a>
          </li>
        
          <li>
            <a href="/2025/07/11/2025-07-11/">框架之日志管理系统</a>
          </li>
        
          <li>
            <a href="/2025/07/10/2025-07-12/">unity 一键打包</a>
          </li>
        
          <li>
            <a href="/2025/07/10/2025-07-10/">Unity UI框架总结</a>
          </li>
        
          <li>
            <a href="/2025/07/09/2025-07-09/">Unity 打android 包报错总结</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2025 OuyangWenyuan<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>