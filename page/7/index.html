<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>持续学习者————Just Do It！</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="看，听，学，记，练；读，思，写，说，教。读书百遍，其义自现，熟能生巧，巧能升精，精能升华，华能出奇，出奇方能制胜。">
<meta property="og:type" content="website">
<meta property="og:title" content="持续学习者————Just Do It！">
<meta property="og:url" content="http://droidman.net/page/7/index.html">
<meta property="og:site_name" content="持续学习者————Just Do It！">
<meta property="og:description" content="看，听，学，记，练；读，思，写，说，教。读书百遍，其义自现，熟能生巧，巧能升精，精能升华，华能出奇，出奇方能制胜。">
<meta property="og:locale" content="en,ZH">
<meta property="article:author" content="OuyangWenyuan">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="C">
<meta property="article:tag" content="C#">
<meta property="article:tag" content="Objective-c">
<meta property="article:tag" content="Swift">
<meta property="article:tag" content="Unity">
<meta property="article:tag" content="Unity3d">
<meta property="article:tag" content="Shader">
<meta property="article:tag" content="Http">
<meta property="article:tag" content="Web">
<meta property="article:tag" content="Blog">
<meta property="article:tag" content="Program">
<meta property="article:tag" content="Mac OS">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="Unix">
<meta property="article:tag" content="Window">
<meta property="article:tag" content="Python">
<meta property="article:tag" content="Lua">
<meta property="article:tag" content="Javascript">
<meta property="article:tag" content="Android">
<meta property="article:tag" content="iOS">
<meta property="article:tag" content="xcode">
<meta property="article:tag" content="IDEA">
<meta property="article:tag" content="eclicpse">
<meta property="article:tag" content="blender">
<meta property="article:tag" content="MVC">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="持续学习者————Just Do It！" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">持续学习者————Just Do It！</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">学无止境————不怕你不会，就怕你不学！</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://droidman.net"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-2018-01-07" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/01/07/2018-01-07/" class="article-date">
  <time datetime="2018-01-07T12:44:36.000Z" itemprop="datePublished">2018-01-07</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2018/01/07/2018-01-07/">设计模式中类的关系</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ol>
<li>依赖（Dependence）</li>
</ol>
<p>依赖关系的定义为：对于两个相对独立的对象，当一个对象负责构造另一个对象的实例，或者依赖另一个对象的服务时，这两个对象之间主要体现为依赖关系。定义比较晦涩难懂，但在java中的表现还是比较直观的：类A当中使用了类B，其中类B是作为类A的方法参数、方法中的局部变量、或者静态方法调用。类上面的图例中：People类依赖于Book类和Food类，Book类和Food类是作为类中方法的参数形式出现在People类中的。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public class People&#123;  </span><br><span class="line">    &#x2F;&#x2F;Book作为read方法的形参  </span><br><span class="line">     public void read(Book book)&#123;  </span><br><span class="line">        System.out.println(“读的书是”+book.getName());  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>2.关联（Association）<br>单向关联：</p>
<p>双向关联：</p>
<p> 对于两个相对独立的对象，当一个对象的实例与另一个对象的一些特定实例存在固定的对应关系时，这两个对象之间为关联关系。关联关系分为单向关联和双向关联。在java中，单向关联表现为：类A当中使用了类B，其中类B是作为类A的成员变量。双向关联表现为：类A当中使用了类B作为成员变量；同时类B中也使用了类A作为成员变量。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public class Son&#123;  </span><br><span class="line">   &#x2F;&#x2F;关联关系中作为成员变量的类一般会在类中赋值  </span><br><span class="line">    Father father &#x3D; new Father();  </span><br><span class="line">    public void getGift()&#123;  </span><br><span class="line">        System.out.println(“从”+father.getName()+”获得礼物”);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;  </span><br><span class="line">  </span><br><span class="line">public class Father&#123;  </span><br><span class="line">    Son son &#x3D; new Son();  </span><br><span class="line">    public void giveGift()&#123;  </span><br><span class="line">       System.out.println(“送给”+son.getName()+“礼物”);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>3.聚合（Aggregation）</p>
<p>聚合关系是关联关系的一种，耦合度强于关联，他们的代码表现是相同的，仅仅是在语义上有所区别：关联关系的对象间是相互独立的，而聚合关系的对象之间存在着包容关系，他们之间是“整体-个体”的相互关系。没有车司机就不能发生开车这个行为。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">public class People&#123;  </span><br><span class="line">    Car car;  </span><br><span class="line">    House house;   </span><br><span class="line">    &#x2F;&#x2F;聚合关系中作为成员变量的类一般使用set方法赋值  </span><br><span class="line">     public void setCar(Car car)&#123;  </span><br><span class="line">        This.car &#x3D; car;  </span><br><span class="line">    &#125;  </span><br><span class="line">    public void setHouse(House house)&#123;  </span><br><span class="line">        This.house &#x3D; house;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    public void driver()&#123;  </span><br><span class="line">        System.out.println(“车的型号：”+car.getType());  </span><br><span class="line">    &#125;  </span><br><span class="line">    public void sleep()&#123;  </span><br><span class="line">        System.out.println(“我在房子里睡觉：”+house.getAddress());  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>4.组合（Composition）</p>
<p>相比于聚合，组合是一种耦合度更强的关联关系。存在组合关系的类表示“整体-部分”的关联关系，“整体”负责“部分”的生命周期，他们之间是共生共死的；并且“部分”单独存在时没有任何意义。在下图的例子中，People与Soul、Body之间是组合关系，当人的生命周期开始时，必须同时有灵魂和肉体；当人的生命周期结束时，灵魂肉体随之消亡；无论是灵魂还是肉体，都不能单独存在，他们必须作为人的组成部分存在。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Public class People&#123;  </span><br><span class="line">    Soul soul;  </span><br><span class="line">    Body body;   </span><br><span class="line">    &#x2F;&#x2F;组合关系中的成员变量一般会在构造方法中赋值  </span><br><span class="line">     Public People(Soul soul, Body body)&#123;   </span><br><span class="line">        This.soul &#x3D; soul;  </span><br><span class="line">        This.body &#x3D; body;  </span><br><span class="line">    &#125;  </span><br><span class="line">  </span><br><span class="line">    Public void study()&#123;  </span><br><span class="line">        System.out.println(“学习要用灵魂”+soul.getName());  </span><br><span class="line">    &#125;  </span><br><span class="line">    Public void eat()&#123;  </span><br><span class="line">        System.out.println(“吃饭用身体：”+body.getName());  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>5.继承（Generalization）</p>
<p>继承表示类与类（或者接口与接口）之间的父子关系。在java中，用关键字extends表示继承关系。UML图例中，继承关系用实线+空心箭头表示，箭头指向父类。<br>6.实现（Implementation）</p>
<p>表示一个类实现一个或多个接口的方法。接口定义好操作的集合，由实现类去完成接口的具体操作。在java中使用implements表示。UML图例中，实现关系用虚线+空心箭头表示，箭头指向接口。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://droidman.net/2018/01/07/2018-01-07/" data-id="cmcw1g2sg001cz4z877ff52ut" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">设计模式</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2017-12-23" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/23/2017-12-23/" class="article-date">
  <time datetime="2017-12-23T12:44:02.000Z" itemprop="datePublished">2017-12-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/23/2017-12-23/">C# 枚举 的用法</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>枚举是C#编程语言的一种类型，跟类、结构、密封类、分布类、委托、事件、抽象都是同一级别的类型。</p>
<p>枚举本身可以有修饰符，但枚举的成员始终是公共的，不能有访问修饰符。枚举本身的修饰符仅能使用public和internal。</p>
<p>枚举是值类型，隐式继承自System.Enum，不能手动修改。</p>
<p>枚举成员不能相同，但枚举的值可以相同，默认情况下，枚举中的第一个变量被赋值为0，其他的变量的值按定义的顺序来递增(0,12,3…)，如果enum中的部分成员显式定义了值，而部分没有，那么没有定义值的成员还是会按照上一个成员的值来递增赋值。</p>
<p>常用方法：</p>
<p>枚举转换：</p>
<p>Enum–&gt;String：</p>
<p>1.利用Object.ToString()方法：如Colors.Green.ToString()的值是”Green”字符串；</p>
<p>2.利用Enum的静态方法GetName与GetNames：例如：Enum.GetName(typeof(Colors),3))与Enum.GetName(typeof(Colors), Colors.Blue))的值都是”Blue”</p>
<p>Enum–&gt;Int：</p>
<p>因为枚举的基类型是除 Char 外的整型，所以可以进行强制转换。</p>
<p>例如：(int)Colors.Red, (byte)Colors.Green</p>
<p>String–&gt;Enum：</p>
<p>public static Object Parse(Type enumType,string value)</p>
<p>例如：(Colors)Enum.Parse(typeof(Colors), “Red”)</p>
<p>Int–&gt;Enum：</p>
<p>可以强制转换将整型转换成枚举类型。</p>
<p>例如：Colors color = (Colors)2 ，那么color即为Colors.Blue</p>
<p>判断某个整型是否定义在枚举中的方法：Enum.IsDefined</p>
<p>public static bool IsDefined(Type enumType,Object value)</p>
<p>例如：Enum.IsDefined(typeof(Colors), 3))</p>
<p>枚举遍历：</p>
<p>foreach (int good in Enum.GetValues(typeof(ItemCode)))<br>{<br>　　Debug.Log(Player.instance.GetGoodInfo().GetItemCountByItemCode(good) + “  “ + good);<br>}</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://droidman.net/2017/12/23/2017-12-23/" data-id="cmcw1g2sd0018z4z8f88v3d86" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/" rel="tag">C#</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2017-12-17" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/17/2017-12-17/" class="article-date">
  <time datetime="2017-12-17T12:43:59.000Z" itemprop="datePublished">2017-12-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/17/2017-12-17/">Unity Profiler 参数说明</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>1.CPU Usage：<br>　　WaitForTargetFPS:Vsync(垂直同步)功能所，即显示当前帧的CPU等待时间<br>　　Overhead：Profiler总体时间-所有单项的记录时间总和。用于记录尚不明确的时间消耗，以帮助进一步完善Profiler的统计。<br>　　Physics.Simulate：当前帧物理模拟的CPU占用时间。<br>　　Camera.Render：相机渲染准备工作的CPU占用量<br>　　RenderTexture.SetActive：设置RenderTexture操作.<br>       　　底层实现：</p>
<p>　　　　 　　1.比对当前帧与前一帧的ColorSurface和DepthSurface.<br>                　   2.如果这两个Buffer一致则不生成新的RT，否则则生成新的RT，并设置与之相对应的Viewport和空间转换矩阵.<br>　　Monobehaviour.OnMouse_ ：用于检测鼠标的输入消息接收和反馈，主要包括：SendMouseEvents和DoSendMouseEvents。（只要Edtor开起来，这个就会存在）<br>       HandleUtility.SetViewInfo：仅用于Editor中，作用是将GUI和Editor中的显示看起来与发布版本的显示一致。<br>       GUI.Repaint： GUI的重绘(说明有在使用原生的OnGUI)<br>　　Event.Internal_MakeMasterEventCurrent：负责GUI的消息传送<br>       Cleanup Unused Cached Data：清空无用的缓存数据，主要包括RenderBuffer的垃圾回收和TextRendering的垃圾回收。<br>          1.RenderTexture.GarbageCollectTemporary:存在于RenderBuffer的垃圾回收中，清除临时的FreeTexture.<br>          2.TextRendering.Cleanup:TextMesh的垃圾回收操作<br>　　Application.Integrate Assets in Background：遍历预加载的线程队列并完成加载，同时，完成纹理的加载、Substance的Update等.<br>　　Application.LoadLevelAsync Integrate：加载场景的CPU占用，通常如果此项时间长的话70%的可能是Texture过长导致.<br>　　UnloadScene：卸载场景中的GameObjects、Component和GameManager，一般用在切换场景时.<br>　　CollectGameObjectObjects： 执行上面M项的同时，会将场景中的GameObject和Component聚集到一个Array中.然后执行下面的Destroy.<br>　　Destroy： 删除GameObject和Component的CPU占用.<br>　　AssetBundle.LoadAsync Integrate： 多线程加载AwakeQueue中的内容，即多线程执行资源的AwakeFromLoad函数.<br>　　Loading.AwakeFromLoad： 在资源被加载后调用，对每种资源进行与其对应用处理.</p>
<p>2.GPU Usage：<br>     Device.Present:device.PresentFrame的耗时显示，该选项出现在发布版本中.<br>     Graphics.PresentAndSync：GPU上的显示和垂直同步耗时.该选项出现在发布版本中.<br>     Mesh.DrawVBO： GPU中关于Mesh的Vertex Buffer Object的渲染耗时.<br>     Shader.Parse：资源加入后引擎对Shader的解析过程.<br>     Shader.CreateGPUProgram：根据当前设备支持的图形库来建立GPU工程.</p>
<p>3.Memory Profiler<br>     Used Total: 当前帧的Unity内存、Mono内存、GfxDriver内存、Profiler内存的总和.<br>     Reserved Total:系统在当前帧的申请内存.<br>     Total System Memory Usage:当前帧的虚拟内存使用量.（通常是我们当前使用内存的1.5~3倍)<br>     GameObjects in Scene:当前帧场景中的GameObject数量.<br>     Total Objects in Scene:当前帧场景中的Object数量(除GameObject外，还有Component等).<br>     Total Object Count: Object数据 + Asset数量</p>
<p>4.Detail Memory Profiler<br>　　Texture2d:记录当前帧内存中所使用的纹理资源情况，包括各种GameObject的纹理、天空盒纹理以及场景中所用的Lightmap资源.<br>　　Scene Memory:  记录当前场景中各个方面的内存占用情况，包括GameObject、所用资源、各种组件以及GameManager等（天般情况通过AssetBundle加载的不会显示在这里).<br>       ManagedHeap.UseSize:代码在运行时造成的堆内存分配，表示上次GC到目前为止所分配的堆内存量.<br>       WebStream:这个是由WWW来进行加载的内存占用.<br>       System.ExecutableAndDlls:不同平台和不同硬件得到的值会不一样。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://droidman.net/2017/12/17/2017-12-17/" data-id="cmcw1g2s90016z4z8e6u82ai6" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Unity/" rel="tag">Unity</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2017-12-16" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/16/2017-12-16/" class="article-date">
  <time datetime="2017-12-16T12:43:56.000Z" itemprop="datePublished">2017-12-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/16/2017-12-16/">C#泛型</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>定义：通过泛型可以定义类型安全类，而不会损害类型安全、性能或工作效率。</p>
<p>泛型的好处 </p>
<p>1、同样的代码，可以通过任何类型来重用它，减少重复代码</p>
<p> 2、编译器支持和类型安全 </p>
<p>3、不会强行对值类型进行装箱和取消装箱，或者对引用类型进行向下强制类型转换，性能提高。</p>
<p>泛型继承：<br>1、泛型类继承中，父类的类型参数已被实例化，这种情况下子类不一定必须是泛型类；<br>2、父类的类型参数没有被实例化，由子类指定，也就是说父类和子类都是泛型类，并且二者有相同的类型参数；</p>
<p>泛型写法：<br>泛型类</p>
<p>public class TestChild : Test&lt; string, int&gt;{ }  </p>
<p>public class TestChild&lt; T, S&gt; : Test&lt; T, S&gt; { }  </p>
<p>public class TestChild&lt; T, S&gt; : Test&lt; String, int&gt; { }<br>泛型方法：C#的泛型机制只支持在方法申明上包含类型参数，也即是泛型方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public T getvalue&lt;T&gt;(T t)</span><br><span class="line">&#123;</span><br><span class="line">    return t;</span><br><span class="line">&#125;</span><br><span class="line">使用：  </span><br><span class="line">Int a &#x3D;  getvalue&lt;Int&gt;(10);</span><br></pre></td></tr></table></figure>
<p>泛型接口：</p>
<p>public interface IList<T><br>{<br>    T[] GetElements();<br>}<br>泛型委托：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">public class MyClass&lt;T&gt;</span><br><span class="line">&#123;</span><br><span class="line">    public delegate void GenericDelegate(T t);</span><br><span class="line">    public void SomeMethod(T t)</span><br><span class="line">    &#123; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public GenericMethodDemo()</span><br><span class="line">&#123;</span><br><span class="line">    MyClass&lt;int&gt; obj &#x3D; new MyClass&lt;int&gt;();</span><br><span class="line">    MyClass&lt;int&gt;.GenericDelegate del;</span><br><span class="line">    del &#x3D; new MyClass&lt;int&gt;.GenericDelegate(obj.SomeMethod);</span><br><span class="line">    del(3);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>泛型约束：C#中的泛型只支持显示的约束，因为这样才能保证C#所要求的类型安全，但显示的约束并非时必须的，如果不加约束，泛型类型参数将只能访问System.Object类型中的公有方法。“显式约束”由where子句表达，可以指定“基类约束”，“接口约束”，“构造器约束”，“值类型/引用类型约束”共四种约束</p>
<p>构造器约束：</p>
<p>public static T CreateObject<T>(out int objectId) where T : new()<br>public class CSingleton<T> where T : new()<br>基类约束，还包括基类和接口：</p>
<p>public T FindControl<T>(string name) where T : Component<br>public class CSingleton<T> where T : IComparable<br>值约束：</p>
<p>public class MyClass<T> where T : struct { }<br>引用约束：</p>
<p>public class MyClass<T> where T : class { }<br>约束组合：</p>
<p>public class MyClass<T> where T : IComparable, new() { }<br>public class MyClass<T> where T : struct, IComparable { }<br>public class MyClass<T> where T : B, IComparable, ICloneable { }<br>public class MyClass&lt;T, U&gt; where T : IComparable  where U : class { }<br>约束    说明<br>T：struct    类型参数必须是值类型。可以指定除 Nullable 以外的任何值类型。与接口约束同时使用，在最前面(不能与基类约束,构造函数约束一起使用)<br>T：class    类型参数必须是引用类型，包括任何类、接口、委托或数组类型。<br>T：new()    类型参数必须具有无参数的公共构造函数。当与其他约束一起使用时，new() 约束必须最后指定。<br>T：&lt;基类名&gt;    类型参数必须是指定的基类或派生自指定的基类。<br>T：&lt;接口名称&gt;    类型参数必须是指定的接口或实现指定的接口。可以指定多个接口约束。约束接口也可以是泛型的。<br>T：U    为 T 提供的类型参数必须是为 U 提供的参数或派生自为 U 提供的参数。这称为裸类型约束.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://droidman.net/2017/12/16/2017-12-16/" data-id="cmcw1g2s40014z4z82kzeagz8" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/" rel="tag">C#</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2017-12-10" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/10/2017-12-10/" class="article-date">
  <time datetime="2017-12-10T12:43:53.000Z" itemprop="datePublished">2017-12-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/10/2017-12-10/">C# 中的深拷贝和浅拷贝</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public GoodItem CloneItem()</span><br><span class="line">&#123;</span><br><span class="line">    MemoryStream stream &#x3D; new MemoryStream();</span><br><span class="line">    BinaryFormatter formatter &#x3D; new BinaryFormatter();</span><br><span class="line">    formatter.Serialize(stream, this);</span><br><span class="line">    stream.Position &#x3D; 0;</span><br><span class="line">    return formatter.Deserialize(stream) as GoodItem;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2.利用xml序列化和反序列化实现</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public T DeepCopy&lt;T&gt;(T obj)</span><br><span class="line">&#123;</span><br><span class="line">    object retval;</span><br><span class="line">    MemoryStream ms &#x3D; new MemoryStream()</span><br><span class="line">    XmlSerializer xml &#x3D; new XmlSerializer(typeof(T));</span><br><span class="line">    xml.Serialize(ms, obj);</span><br><span class="line">    ms.Seek(0, SeekOrigin.Begin);</span><br><span class="line">    retval &#x3D; xml.Deserialize(ms);</span><br><span class="line">    ms.Close();</span><br><span class="line">    return (T)retval;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>3.利用反射实现</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public static T DeepCopy&lt;T&gt;(T obj)</span><br><span class="line">&#123;</span><br><span class="line">    &#x2F;&#x2F;如果是字符串或值类型则直接返回</span><br><span class="line">    if (obj is string || obj.GetType().IsValueType) return obj;</span><br><span class="line"></span><br><span class="line">    object retval &#x3D; Activator.CreateInstance(obj.GetType());</span><br><span class="line">    FieldInfo[] fields &#x3D; obj.GetType().GetFields(BindingFlags.Public | BindingFlags.NonPublic | BindingFlags.Instance | BindingFlags.Static);</span><br><span class="line">    foreach (FieldInfo field in fields)</span><br><span class="line">    &#123;</span><br><span class="line">        try &#123; field.SetValue(retval, DeepCopy(field.GetValue(obj))); &#125;</span><br><span class="line">        catch &#123; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return (T)retval;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://droidman.net/2017/12/10/2017-12-10/" data-id="cmcw1g2s30013z4z8c1abhxci" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/" rel="tag">C#</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2017-12-09" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/09/2017-12-09/" class="article-date">
  <time datetime="2017-12-09T12:43:49.000Z" itemprop="datePublished">2017-12-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/09/2017-12-09/">C#中的值类型和引用类型区别</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>区别：</p>
<p>1：在存储区上的区别： 值类型是存储在栈上面的，引用类型是存储在堆上面的。<br> 2：在赋值上，值类型是直接赋新值给变量，但是引用类型是开辟一块新的空间来存放新值，并将之前指向旧的值的那个地址改成指向新的值的地址。这就完成了一次赋值的操作。<br>在对应用类型进行赋值的时候：  首先，我们先从定义和赋初始值开始说起， 引用类型在被申明的时候，首先在堆中开辟一块内存空间，然后将其在堆中的地址赋值给 栈 中的一快空间，这块空间就是来放一个引用类型在堆中的地址的。然后我 对其进行重新赋值的时候，并不是将堆中的值给改变了，而是在堆中重新开辟了一块新的空间，然后将堆中的这个地址赋值给  之前这个变量在栈中开辟那块存堆中的地址的那个地址，所以之前的那个最先开辟在堆中的空间是不会被消除的，除非.Net FrameWork这个框架中的垃圾回收站自动帮我们完成释放内存的功能，但这是在程序运行结束后才会做，所以我们如果对引用类型的变量  的话，我们应该尽量减少对其的重新赋值，就想string这个引用类型一样，我们如果需要对字符串进行重复的赋值和处理，我们一般不会用string这个字符串来处理，   我们一般使用stringBuild 来处理字符串重新赋值的问题。</p>
<p>值类型：C#的所有值类型均隐式派生自System.ValueType;判断是否为值类型：Type.IsValueType<br>1.所有整形：sbyte(System.SByte)、short(System.Int16)、、int(System.Int32)、long(System.Int64)、byte(System.Byte)、ushort(System.UInt16)、uint(System.UInt32)、ulong(System.UInt64)、char(System.Char)。<br>2.所有浮点型：float (System.Single)、double(System.Double)。<br>3.高精度类型：decimal(System.Decimal)。<br>4.bool(System.Boolean)；<br>5.结构体、枚举类型。</p>
<p>引用类型：<br>1.数组(派生于System.Array)<br>2.类:class(派生于System.Object)<br>3.接口:interface<br>4.委托类型:delegate(派生于System.Delegate)<br>5.字符串:string(System.String的别名)<br>6.Lambda表达式：C#的Lambda 表达式都使用 Lambda 运算符 =&gt;，该运算符读为“goes to”。语法如下：形参列表=&gt;函数体函数体多于一条语句的可用大括号括起。如下：<br>delegate int del(int i);<br>    del myDelegate = x=&gt;{return x*x;};<br>   int j = myDelegate(5);//j=25</p>
<p>装箱：将值类型转换为引用类型 。装箱时，生成的是全新的引用对象，这会有时间损耗，也就是造成效率降低，尽量避免装箱。<br>拆箱：将引用类型转换为值类型。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://droidman.net/2017/12/09/2017-12-09/" data-id="cmcw1g2rv000wz4z83pxb8pny" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/" rel="tag">C#</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2017-12-03" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/03/2017-12-03/" class="article-date">
  <time datetime="2017-12-03T12:43:45.000Z" itemprop="datePublished">2017-12-03</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/03/2017-12-03/">Unity CanvasGroup 组件</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Canvas Group可以用来控制一组不需要个别控制的UI元素的某些方面，CanvasGroup的属性会影响他所有children的GameObject</p>
<p>其中有四个选项：<br>-Alpha：这个选项很多组件都有，用处也是一样的，在美术中，这个叫做Alpha通道的东东是用来控制透明度的，他的值从0到1.0是完全透明，1是完全不透明；<br>-Interactable确认该组件是否接受输入，当他被设置为false时，交互功能将被禁用；<br>-Block Raycasts是否让该组件像collider一样接受射线检测？你需要在依赖于Canvas的图形射线检测者上唤醒射线检测方法。这个不会作用于Physics.Raycast;<br>-Ignore Parent Groups(忽略父级团)是否响应父级group的方法</p>
<p>细节：<br>Canvas Group的经典使用：<br>-在窗口的GameObject上添加一个CanvasGroup，通过控制它的Alpha值来淡入或淡出整个窗口；<br>-通过给父级GameObject添加一个CanvasGroup并设置它的Interactable值为false来制作一整套没有交互（灰色）的控制；<br>-通过将元素或元素的一个父级添加CanvasGroup并设置BlockRaycasts值为false来制作一个或多个不阻止鼠标事件的UI元素<br>应用：（重要的地方写大字）<br>结合后面两点或者1,3点，都可以实现很牛叉的功能<br>比如说游戏里某些情况某个按钮（或者其他UI）是不能点的，而另外一些情况可以点，这样就可以通过动态改变这个组件的BlocksRaycasts值以及Interactable来实现<br>再比如说游戏里点击某个按钮要让这个按钮不可点并逐渐消失掉，当然啦，也可以让别的东西消失啦，这就可以通过改变alpha值来实现</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://droidman.net/2017/12/03/2017-12-03/" data-id="cmcw1g2rk000tz4z86ep0fr8d" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Unity/" rel="tag">Unity</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2017-12-02" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/12/02/2017-12-02/" class="article-date">
  <time datetime="2017-12-02T12:43:41.000Z" itemprop="datePublished">2017-12-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/12/02/2017-12-02/">UGUI系统中Image与RawImage</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>UGUI系统中提供了2种显示图片的组件即Image与RawImage。本篇文章主要是介绍这2个组件含义与使用。<br>1.Image</p>
<p>（1）SourceImage:指定要显示的目标图片资源。需要注意的是，它只支持Sprite类型的图片，因此需要将目标图片资源的格式改成如下图所示的格式：</p>
<p>（2）Color：设置Color属性值，会改变图片显示的色调。类似给图片开了某种颜色的“灯”照射该图片。</p>
<p>（3）Material：设定用于渲染图片的材质。<br>（4）RaycastTarget：决定是否接收射线碰撞检测。换句话说，就是是否能够成为事件监听目标。<br>（5）Image Type：用于设定图片的显示类型，如Simple/Sliced/Tiled/Filled。不同的显示类型会导致Sprite“填充”Image组件的方式不同。<br>a.Simple，此模式下如果Image控件大小与Sprite的不相同时，Sprite将会被拉伸到与Image控件一般大。</p>
<p>值得注意的是，如果勾选上PreserveAspect选项时，Sprite将会根据Sprite原宽高比例进行拉伸。</p>
<p>b.Sliced俗称九宫格，需要做成九宫格的图片一般都是当做背景用的（如很多游戏中都有黑色的背景）。经过九宫格处理的Sprite，在缩放过程中，会保持4个角的切片不做缩放，4个边的切片只完成拉伸，只有中间的切片做缩放操作。Fill Center选项，如果取消勾选，Image不能完整显示，只会显示切片的边缘图片。</p>
<p>c.Tiled俗称“地面砖平铺”，此种情况下，Sprite本身大小会保持不变，Sprite会像铺地面砖那样填充满整个Image控件。</p>
<p>d.Filled俗称“呈现方式”，一般设置此模式的Image，都是用做有“CD”效果的技能按钮等，让Image以一定地展现方式一部分一部分地完全展示出来。</p>
<p>属性<br>作用<br>Fill Method<br>指定填充呈现方式，选项有Horizontal[水平方向]、Vertical[竖直方向]、Radial90[1/4圆呈现]、Radial180[半圆呈现]、Radial360[整圆显现]<br>Fill Origin<br>指定填充显现操作的起点。<br>Fill Amount<br>指定了填充的进度。<br>Clock Wise<br>针对Radial90/180/190类型的填充显示方式，取消与勾选该项，会“翻转”填充显示“方向”<br>Preserve Aspect<br>根据Sprite宽高比，缩放Image</p>
<p>举例：设定Fill Method为Radial360，当改变FillAmount值，从0到1时，会发现图片会以圆形的方式从中间向外逐渐显示出来。</p>
<p>（6） SetNative Size：按下此按钮后，会发现Image控件的大小会变成与Sprite图片本身大小一致。</p>
<p>2.RawImage<br>RawImage功能上与Image组件类似，但属性并不完全相同。</p>
<p>属性    作用<br>Textture    指定要显示的图片，注意：图片类型可以是任何类型<br>Color    设置图片的主颜色<br>Material    设定Image控件的渲染材质<br>Raycast Target    决定是否可接收射线碰撞事件检测（取消勾选不会挡住下层UI事件）<br>UV Rect    可以让图片的一部分显示在RawImage组件中，x、y属性用于控制UV左右、上下偏移，W、H用于控制UV的重复次数。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://droidman.net/2017/12/02/2017-12-02/" data-id="cmcw1g2rj000rz4z8alv96awl" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/UGUI/" rel="tag">UGUI</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2017-11-26" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/26/2017-11-26/" class="article-date">
  <time datetime="2017-11-26T00:43:28.000Z" itemprop="datePublished">2017-11-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/26/2017-11-26/">UGUI sprite图九宫格设置和切割</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>很多时候美术给的背景图很小，需要程序进行放大（但要保持边角不模糊），这时候九宫格就有用了<del>~</del></p>
<p>例如下图放大10倍，如果不用九宫格图会变得很模糊(你可以试下吧transform  的scale都设为10，效果太美。。。。。)</p>
<p>不扯淡了，开搞</p>
<p>一、九宫格<br>九宫格的主要目的是处理图片拉伸效果，我们知道图片一旦被拉伸，它就会出现形变、模糊等问题，但是，有的图片它的某一些部分又是允许被拉伸的。例如，一个UI背景框，它的中间部分几乎是一个纯色，允许被拉伸(纯色被拉伸不会发生质量问题)，但是，边缘的4个角可能有一些特殊花纹或者倒角不允许被任意拉伸，这个时候就可以使用九宫格，来使4个角不进行拉伸放大，只让中间部分进行拉伸放大，达到将一个小框拉大成一个大背景框，既节省了资源，又不会降低图片质量。<br>原理：</p>
<p>把纹理用4条线分割成9部分（如上图），通过观察可以发现，5是最规则的形状（矩形），其次是2,6,8,4（矩形，但是和四个角有公共边），最后是四个角1,3,9,7（圆角矩形）<br>规则的图形在拉伸之后的效果是比较好的，如果是不规则的图形，则会在拉伸之后变形！</p>
<p>根据上图做拉伸制定规则：<br>（1）保证四个角1,3,9,7不做任何拉伸<br>（2）与四个角有公共边的四个矩形2,6,8,4做单向拉伸，即保证与四个角的公共边不拉伸，例如2,8只进行横向拉伸，4,6只进行纵向拉伸<br>（3）中间部分5做双向拉伸，即横向，纵向同时拉伸<br>unity 中设置九宫格：<br>1.选中图片，在Inspector面板里将Texture Type改为Sprite，点击Sprite Editor按钮，通过拖动绿色的点来设置九宫格大小。<br>2.将Image组件的Image Type改为Sliced。</p>
<p>二：图片切割<br>图片切割使用场景有：1.美术将多张图打包到同一张图里，例如UI都放在一张图里。2.做类型地砖的时候，美术给的图是9x9的大图，程序的单元格却是1x1的，这时候就需要把图片切成九张大小一样图片并在程序中拼接成一张大图。3.UGUI要做帧动画时。<br>unity 中设置：<br>1.选中图片，在Inspector面板里将Texture Type改为Sprite或Advance。<br>2.图片模式sprite修改为multiple模式。<br>3.进入图片编辑器，点击左上角的Slice按钮，其中的Type有三种，第一种时自动的，就是不切割。<br>第二种是按单元格切割 就是每个单元格大小一样，如图：</p>
<p>通过对单元格的name的命名规则，我们可以再程序中拼接出整张大图，例如切成三行三列的图，可以命名为行数_列数或者行数*总的列数+当前列数，<br>取值的时候通过便利行和列就可以取到并拼接成正张图。<br>第三种，按行或列的count切割，适用于美术的小的ui或者帧动画，如图</p>
<p>4.每个切割的小图可以单独设置九宫格进行拉伸。<br>5.使用的时候需要将image的imageType设置成Slice</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://droidman.net/2017/11/26/2017-11-26/" data-id="cmcw1g2rh000oz4z829n5d1w6" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/UGUI/" rel="tag">UGUI</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-2017-11-25" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/11/25/2017-11-25/" class="article-date">
  <time datetime="2017-11-25T00:43:23.000Z" itemprop="datePublished">2017-11-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/11/25/2017-11-25/">Unity后台计时器不运行问题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>问题：最近在做一个倒计时的功能，发现倒计时在程序切换到后台是会停止计时，发现unity 安卓后台运行时，计时器不在运行，再次切回App时从切到后台的时间点计时，例如切到后台时位10，后台切回app还是从10开始</p>
<p>，原因是unity在安卓后台环境下，Update和协程不会执行。<br>解决：<br>1.在Update和协程中，计算计时器的时间用当前的Time.realtimeSinceStartup减去上一次计时的Time.realtimeSinceStartup，而不是直接减去固定数值，例如减去1<br>2.使用unity自带的方法void OnApplicationFocus(bool hasFocus)，该方法会在App进入后台和进入程序的时候调用，当进入程序时hasFocus = true,否则hasFocus=false;(参考Start()方法)</p>
<p>3.使用unity自带的方法</p>
<p>void OnApplicationPause(bool pauseStatus)<br>该方法会在App暂停和停止暂停的时候调用，当暂停时pauseStatus= true,否则pauseStatus=false;</p>
<p>OnApplicationFocus is called when the application loses or gains focus. Alt-tabbing or Cmd-tabbing can take focus away from the Unity application to another desktop application. This causes the GameObjects to receive an OnApplicationFocus call with the argument set to false. When the user switches back to the Unity application, the GameObjects receive an OnApplicationFocus call with the argument set to true.<br>hasFocus True if the GameObjects have focus, else False.</p>
<p>代码如下：只需要监听OnApplicationEnterFocus和OnApplicationQuitFocus事件即可，FocusContinueTime为进入后台的总时间，计算倒计时时只要减掉这个数就可以了</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">public static float FocusContinueTime</span><br><span class="line">        &#123;</span><br><span class="line">            get</span><br><span class="line">            &#123;</span><br><span class="line">                return focusContinueTime;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        public static float PauseContinueTime</span><br><span class="line">        &#123;</span><br><span class="line">            get</span><br><span class="line">            &#123;</span><br><span class="line">                return pauseContinueTime;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        #endregion</span><br><span class="line"></span><br><span class="line">        private static float preFocusTime &#x3D; 0;</span><br><span class="line">        private static float prePauseTime &#x3D; 0;</span><br><span class="line">        private static float focusContinueTime &#x3D; 0;</span><br><span class="line">        private static float pauseContinueTime &#x3D; 0;</span><br><span class="line"></span><br><span class="line">        void Awake()</span><br><span class="line">        &#123;</span><br><span class="line">            this.gameObject.name &#x3D; &quot;ApplicationEvent&quot;;</span><br><span class="line">            prePauseTime &#x3D; Time.realtimeSinceStartup;</span><br><span class="line">            preFocusTime &#x3D; Time.realtimeSinceStartup;</span><br><span class="line">            DontDestroyOnLoad(this);</span><br><span class="line">        &#125;</span><br><span class="line">        public void Init()</span><br><span class="line">        &#123;</span><br><span class="line">        &#125;</span><br><span class="line">        public void Release()</span><br><span class="line">        &#123;</span><br><span class="line">        &#125;</span><br><span class="line">        void OnApplicationFocus(bool hasFocus)</span><br><span class="line">        &#123;</span><br><span class="line">            if (hasFocus)</span><br><span class="line">            &#123;</span><br><span class="line">                focusContinueTime &#x3D; Time.realtimeSinceStartup - preFocusTime;</span><br><span class="line">                if (OnApplicationEnterFocus !&#x3D; null)</span><br><span class="line">                &#123;</span><br><span class="line">                    OnApplicationEnterFocus(); </span><br><span class="line">                &#125;                         </span><br><span class="line">            &#125;</span><br><span class="line">            else</span><br><span class="line">            &#123;                </span><br><span class="line">                preFocusTime &#x3D; Time.realtimeSinceStartup;</span><br><span class="line">                if (OnApplicationQuitFocus !&#x3D; null)</span><br><span class="line">                &#123;</span><br><span class="line">                    OnApplicationQuitFocus();</span><br><span class="line">                &#125;     </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        void OnApplicationPause(bool pauseStatus)</span><br><span class="line">        &#123;</span><br><span class="line">            if (pauseStatus)</span><br><span class="line">            &#123;</span><br><span class="line">                prePauseTime &#x3D; Time.realtimeSinceStartup;</span><br><span class="line">                if (OnApplicationEnterPause !&#x3D; null)</span><br><span class="line">                &#123;</span><br><span class="line">                    OnApplicationEnterPause();</span><br><span class="line">                &#125;   </span><br><span class="line">            &#125;</span><br><span class="line">            else</span><br><span class="line">            &#123;</span><br><span class="line">                pauseContinueTime &#x3D; Time.realtimeSinceStartup - prePauseTime;</span><br><span class="line">                if (OnApplicationQuitPause !&#x3D; null)</span><br><span class="line">                &#123;</span><br><span class="line">                    OnApplicationQuitPause();</span><br><span class="line">                &#125;                                          </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://droidman.net/2017/11/25/2017-11-25/" data-id="cmcw1g2rg000mz4z876qjhe1a" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Unity/" rel="tag">Unity</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/6/">&amp;laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/8/">Next &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AOP/" rel="tag">AOP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Assetbundle/" rel="tag">Assetbundle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/" rel="tag">C#</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IOC/" rel="tag">IOC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM/" rel="tag">JVM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Markdown/" rel="tag">Markdown</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Shader/" rel="tag">Shader</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Slot-%E8%80%81%E8%99%8E%E6%9C%BA%EF%BC%8C%E6%B8%B8%E6%88%8F%E7%A0%94%E7%A9%B6/" rel="tag">Slot, 老虎机，游戏研究</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring/" rel="tag">Spring</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Tomcat/" rel="tag">Tomcat</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UGUI/" rel="tag">UGUI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unity/" rel="tag">Unity</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unity-C/" rel="tag">Unity, C#</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unity-UI%E6%A1%86%E6%9E%B6-UGUI/" rel="tag">Unity, UI框架, UGUI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Unity%EF%BC%8CAssetBundle/" rel="tag">Unity，AssetBundle</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android/" rel="tag">android</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flask/" rel="tag">flask</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/game/" rel="tag">game</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gameframework/" rel="tag">gameframework</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http-server/" rel="tag">http.server</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/keyboard/" rel="tag">keyboard</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/" rel="tag">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/" rel="tag">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/slot-%E8%80%81%E8%99%8E%E6%9C%BA-slot-game/" rel="tag">slot, 老虎机, slot game</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/socket/" rel="tag">socket</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/unity/" rel="tag">unity</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/unity-python/" rel="tag">unity python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/xlua-lua-framework/" rel="tag">xlua, lua, framework</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8A%B1%E5%BF%97/" rel="tag">励志</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%B6%E5%8F%91/" rel="tag">并发</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" rel="tag">性能优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" rel="tag">正则表达式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%89%A9%E7%90%86%E5%BC%95%E6%93%8E/" rel="tag">物理引擎</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%A8%8B%E5%BA%8F%E5%91%98/" rel="tag">程序员</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95/" rel="tag">算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" rel="tag">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95/" rel="tag">面试</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/AOP/" style="font-size: 10px;">AOP</a> <a href="/tags/Assetbundle/" style="font-size: 10px;">Assetbundle</a> <a href="/tags/C/" style="font-size: 15px;">C#</a> <a href="/tags/IOC/" style="font-size: 10px;">IOC</a> <a href="/tags/JVM/" style="font-size: 10px;">JVM</a> <a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/Shader/" style="font-size: 10px;">Shader</a> <a href="/tags/Slot-%E8%80%81%E8%99%8E%E6%9C%BA%EF%BC%8C%E6%B8%B8%E6%88%8F%E7%A0%94%E7%A9%B6/" style="font-size: 10px;">Slot, 老虎机，游戏研究</a> <a href="/tags/Spring/" style="font-size: 10px;">Spring</a> <a href="/tags/Tomcat/" style="font-size: 10px;">Tomcat</a> <a href="/tags/UGUI/" style="font-size: 11.67px;">UGUI</a> <a href="/tags/Unity/" style="font-size: 18.33px;">Unity</a> <a href="/tags/Unity-C/" style="font-size: 10px;">Unity, C#</a> <a href="/tags/Unity-UI%E6%A1%86%E6%9E%B6-UGUI/" style="font-size: 10px;">Unity, UI框架, UGUI</a> <a href="/tags/Unity%EF%BC%8CAssetBundle/" style="font-size: 10px;">Unity，AssetBundle</a> <a href="/tags/android/" style="font-size: 10px;">android</a> <a href="/tags/flask/" style="font-size: 10px;">flask</a> <a href="/tags/game/" style="font-size: 10px;">game</a> <a href="/tags/gameframework/" style="font-size: 10px;">gameframework</a> <a href="/tags/http-server/" style="font-size: 10px;">http.server</a> <a href="/tags/keyboard/" style="font-size: 10px;">keyboard</a> <a href="/tags/mysql/" style="font-size: 13.33px;">mysql</a> <a href="/tags/python/" style="font-size: 13.33px;">python</a> <a href="/tags/slot-%E8%80%81%E8%99%8E%E6%9C%BA-slot-game/" style="font-size: 10px;">slot, 老虎机, slot game</a> <a href="/tags/socket/" style="font-size: 10px;">socket</a> <a href="/tags/unity/" style="font-size: 16.67px;">unity</a> <a href="/tags/unity-python/" style="font-size: 10px;">unity python</a> <a href="/tags/xlua-lua-framework/" style="font-size: 11.67px;">xlua, lua, framework</a> <a href="/tags/%E5%8A%B1%E5%BF%97/" style="font-size: 10px;">励志</a> <a href="/tags/%E5%B9%B6%E5%8F%91/" style="font-size: 10px;">并发</a> <a href="/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" style="font-size: 10px;">性能优化</a> <a href="/tags/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/" style="font-size: 10px;">正则表达式</a> <a href="/tags/%E7%89%A9%E7%90%86%E5%BC%95%E6%93%8E/" style="font-size: 10px;">物理引擎</a> <a href="/tags/%E7%A8%8B%E5%BA%8F%E5%91%98/" style="font-size: 10px;">程序员</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 11.67px;">算法</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 20px;">设计模式</a> <a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 11.67px;">面试</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/07/">July 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2025/06/">June 2025</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">March 2024</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2025/07/13/2025-07-13/">简单的服务器搭建</a>
          </li>
        
          <li>
            <a href="/2025/07/11/2025-07-11/">框架之日志管理系统</a>
          </li>
        
          <li>
            <a href="/2025/07/10/2025-07-12/">unity 一键打包</a>
          </li>
        
          <li>
            <a href="/2025/07/10/2025-07-10/">Unity UI框架总结</a>
          </li>
        
          <li>
            <a href="/2025/07/09/2025-07-09/">Unity 打android 包报错总结</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2025 OuyangWenyuan<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>